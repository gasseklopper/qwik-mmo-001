import{c,G as f,W as g,l as v,X as h,o as I,j as P,S as l,a as u,b,h as i,f as w}from"./q-73c53bab.js";import{s as _}from"./q-985e9e8b.js";import{v as S}from"./q-e2ca1c88.js";import{_ as m}from"./q-ff6eb6cb.js";import{U as L}from"./q-45ea336b.js";import{a as y}from"./q-787c0e56.js";import"./q-725317a4.js";import"./q-4ed993c7.js";const E=async a=>{const[e,s]=c();s.message=void 0,s.status="error",e.value=!0;const o=a.target.email.value,n=a.target.password.value;if(!S(o)){s.message="u must have a valid email",e.value=!1;return}const{data:t,error:p}=await _.auth.signInWithPassword({email:o,password:n});if(t){s.message="Success. You are logged in",s.status="success",e.value=!1;return}else{s.message="there was an error during the login"+p?.message,s.status="error",e.value=!1;return}},Z=()=>{const a=f({message:void 0,status:"error"}),e=g(!1),s=g(!1),o=y();v(i(()=>m(()=>Promise.resolve().then(()=>d),void 0,import.meta.url),"s_RAsphSHo3I4",[o]));const n=i(()=>m(()=>Promise.resolve().then(()=>d),void 0,import.meta.url),"s_aqyHlZVd0Ac",[e,a]),r=h(L);return I(i(()=>m(()=>Promise.resolve().then(()=>d),void 0,import.meta.url),"s_YZPuWZIDHZ0",[s,r])),P(b,{children:[l("h1",null,null,"Login",3,null),!r.isLoggedIn&&l("form",null,{onSubmit$:n,"preventdefault:submit":!0},[l("div",null,null,[l("label",null,{for:"email"},"email/username: ",3,null),l("input",null,{class:"email",id:"email",value:"m-morley@gmx.de"},null,3,null)],3,null),l("div",null,null,[l("label",null,{for:"password"},"password: ",3,null),l("input",null,{class:"password",id:"password",type:"password",value:"Manfredist123"},null,3,null)],3,null),l("button",null,{disabled:u(t=>t.value,[e]),type:"submit"},"login",3,null)],3,"gz_0"),a.message&&l("div",null,null,[l("p",null,null,u(t=>t.message,[a]),3,null),l("p",null,null,u(t=>t.status,[a]),3,null)],3,"gz_1")]},1,"gz_2")},H=()=>{const[a]=c();console.log(a)},V=async()=>{const[a,e]=c(),{data:s,error:o}=await _.auth.getUser();console.log("check auth with get user"),s.user?.id&&!o?(console.log(s),a.value=!0,e.userId=s.user.id,e.isLoggedIn=!0):(console.log(o),e.userId="",e.isLoggedIn=!1)},d=Object.freeze(Object.defineProperty({__proto__:null,_hW:w,s_0TYIaHVlMQk:Z,s_RAsphSHo3I4:H,s_YZPuWZIDHZ0:V,s_aqyHlZVd0Ac:E},Symbol.toStringTag,{value:"Module"}));export{w as _hW,Z as s_0TYIaHVlMQk,H as s_RAsphSHo3I4,V as s_YZPuWZIDHZ0,E as s_aqyHlZVd0Ac};
