import{c as m,G as d,W as c,j as p,S as l,a as n,b as g,h as f,f as h}from"./q-73c53bab.js";import{s as v}from"./q-985e9e8b.js";import{v as _}from"./q-e2ca1c88.js";import{_ as b}from"./q-ff6eb6cb.js";import"./q-725317a4.js";const S=async e=>{const[a,s]=m();s.message=void 0,s.status="error",a.value=!0;const u=e.target.email.value,t=e.target.terms.checked,r=e.target.password.value;if(!_(u)){s.message="u must have a valid email",a.value=!1;return}if(!t){s.message="u must have accept the agbs",a.value=!1;return}const{data:i,error:o}=await v.auth.signUp({email:u,password:r});if(i?.user?.id){s.message="Success. Pleas check your email and spam folders",s.status="success",a.value=!1;return}else{s.message="there was a problem creating this user"+o?.message,s.status="error",a.value=!1;return}},w=()=>{const e=d({message:void 0,status:"error"}),a=c(!1);return p(g,{children:[l("h1",null,null,"signup",3,null),l("form",null,{onSubmit$:f(()=>b(()=>Promise.resolve().then(()=>y),void 0,import.meta.url),"s_i3ST1c0e1Wo",[a,e]),"preventdefault:submit":!0},[l("div",null,null,[l("label",null,{for:"email"},"email: ",3,null),l("input",null,{class:"email",id:"email",name:"email"},null,3,null)],3,null),l("div",null,null,[l("label",null,{for:"password"},"password: ",3,null),l("input",null,{class:"password",id:"password",name:"password",type:"password"},null,3,null)],3,null),l("div",null,null,[l("label",null,{for:"terms"},"terms: ",3,null),l("input",null,{class:"terms",id:"terms",name:"terms",type:"checkbox"},null,3,null)],3,null),l("button",null,{disabled:n(u=>u.value,[a]),type:"submit"},"submit",3,null)],3,null),e.message&&l("div",null,null,[l("p",null,null,n(u=>u.message,[e]),3,null),l("p",null,null,n(u=>u.status,[e]),3,null)],3,"hW_0")]},1,"hW_1")},y=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_i3ST1c0e1Wo:S,s_qXchYRhC580:w},Symbol.toStringTag,{value:"Module"}));export{h as _hW,S as s_i3ST1c0e1Wo,w as s_qXchYRhC580};
