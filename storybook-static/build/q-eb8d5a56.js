import{c as f,L as m,K as d,g as u}from"./q-73c53bab.js";import{d as p}from"./q-787c0e56.js";import"./q-ff6eb6cb.js";const b=async function(...n){const[i]=f(),o=n.length>0&&n[0]instanceof AbortSignal?n.shift():void 0;{const s=m(),l=n.map(t=>t instanceof SubmitEvent&&t.target instanceof HTMLFormElement?new FormData(t.target):t instanceof Event||t instanceof Node?null:t),a=i.getHash(),e=await fetch(`?qfunc=${a}`,{method:"POST",headers:{"Content-Type":"application/qwik-json","X-QRL":a},signal:o,body:await d([i,...l])}),c=e.headers.get("Content-Type");if(e.ok&&c==="text/qwik-json-stream"&&e.body)return async function*(){try{for await(const t of p(e.body,s??document.documentElement,o))yield t}finally{o?.aborted||await e.body.cancel()}}();if(c==="application/qwik-json"){const t=await e.text(),r=await u(t,s??document.documentElement);if(e.status===500)throw r;return r}}};export{b as s_wOIPfiQ04l4};
